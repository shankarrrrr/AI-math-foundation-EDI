{% extends "base.html" %}

{% block content %}
<div class="header-section">
    <h1 class="header-title">Matrix Operations</h1>
    <p class="header-subtitle">Perform generic operations on 3x3 matrices.</p>
</div>

<div class="glass-card">
    <div style="display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center;">

        <!-- Matrix A -->
        <div class="matrix-input-container">
            <h3>Matrix A</h3>
            <div class="matrix-grid" id="matrixA">
                <!-- Generated by JS -->
            </div>
        </div>

        <!-- Operation Controls -->
        <div style="display: flex; flex-direction: column; justify-content: center; gap: 0.5rem;">
            <button class="btn-primary" onclick="calculate('add')">A + B</button>
            <button class="btn-primary" onclick="calculate('subtract')">A - B</button>
            <button class="btn-primary" onclick="calculate('multiply')">A Ã— B</button>
            <hr style="border-color: var(--border); width: 100%;">
            <button class="btn-primary" onclick="calculate('determinant')">Det(A)</button>
            <button class="btn-primary" onclick="calculate('inverse')">Inv(A)</button>
            <button class="btn-primary" onclick="calculate('transpose')">Trans(A)</button>
        </div>

        <!-- Matrix B -->
        <div class="matrix-input-container">
            <h3>Matrix B</h3>
            <div class="matrix-grid" id="matrixB">
                <!-- Generated by JS -->
            </div>
        </div>
    </div>
</div>

<div class="glass-card" id="result-section" style="display:none;">
    <h3>Result</h3>
    <div id="result-display" style="margin-top: 1rem;">
        <div class="matrix-grid" id="matrixResult"></div>
        <div id="textResult"></div>
    </div>
</div>

<style>
    .matrix-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 5px;
        margin-top: 10px;
        padding: 10px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
    }

    .matrix-cell {
        width: 60px;
        padding: 5px;
        text-align: center;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid var(--border);
        color: white;
        border-radius: 4px;
    }

    .result-cell {
        width: 60px;
        padding: 8px;
        text-align: center;
        background: rgba(59, 130, 246, 0.2);
        border: 1px solid var(--primary);
        color: white;
        border-radius: 4px;
        font-weight: bold;
    }
</style>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/visualizers/matrices.js') }}"></script>
{% endblock %}